<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Der Beginn unseres gemeinsamen Lebens</title>
  <link rel="stylesheet" href="wedding.css?v=7" />
</head>

<body>
  <div class="bg"></div>

  <!-- Sticky Mini-Countdown -->
  <a class="mini-countdown" id="miniCountdown" href="#countdown" aria-label="Zum Countdown springen">
    <span class="mini-label" id="miniLabel">Tage bis zur Hochzeit</span>
    <span class="mini-value" id="miniValue">--</span>
  </a>

  <main class="wrap" id="top">
    <!-- HERO -->
    <header class="hero fade-in">
      <div class="hero__text">
        <p class="kicker">Ein kleiner Ort nur für uns (und später für euch)</p>

        <h1>Der Beginn unseres gemeinsamen Lebens</h1>

        <p class="sub">
          Am <b>21. August 2026</b> sagen wir Ja –
          zuerst standesamtlich im <b>Weißen Haus</b> in <b>Markkleeberg</b>
          und anschließend feiern wir diesen Tag gemeinsam im
          <b>Gutshof Grasdorf</b> in Taucha.
        </p>

        <!-- COUNTDOWN -->
        <div class="countdown-card lift in" id="countdown">
          <div class="countdown-title" id="countdownTitle">
            Tage bis zu unserer Hochzeit
          </div>

          <div class="countdown-grid">
            <div class="cd">
              <div class="cd__num" id="d">--</div>
              <div class="cd__label" id="dLabel">Tage</div>
            </div>

            <div class="cd" id="hBox">
              <div class="cd__num" id="h">--</div>
              <div class="cd__label">Stunden</div>
            </div>

            <div class="cd" id="mBox">
              <div class="cd__num" id="m">--</div>
              <div class="cd__label">Minuten</div>
            </div>

            <div class="cd" id="sBox">
              <div class="cd__num" id="s">--</div>
              <div class="cd__label">Sekunden</div>
            </div>
          </div>

          <div class="countdown-footnote" id="countdownFootnote">
            Hochzeitstag: <span id="weddingDateText">—</span>
          </div>
        </div>
      </div>

      <!-- HERO IMAGE -->
      <figure class="hero__photo fade-in-delay">
        <img src="assets/us.jpg?v=7" alt="Wir zwei">
        <figcaption>Ein Anfang. Und ganz viel „für immer“.</figcaption>
      </figure>
    </header>

    <!-- ORTE -->
    <section class="section lift">
      <h2>Orte</h2>
      <p class="muted">
        Hier findet ihr alle wichtigen Orte rund um unseren Hochzeitstag.
      </p>
    </section>

    <!-- FOOTER -->
    <footer class="footer lift">
      <p class="muted">
        Diese Seite ist nur per Link oder QR-Code erreichbar.
      </p>
    </footer>
  </main>

  <!-- SETTINGS -->
  <script>
    const WEDDING_DATETIME_LOCAL = "2026-08-21T11:00:00";
  </script>

  <script>
    const target = new Date(WEDDING_DATETIME_LOCAL);

    const dEl = document.getElementById("d");
    const hEl = document.getElementById("h");
    const mEl = document.getElementById("m");
    const sEl = document.getElementById("s");
    const dLabel = document.getElementById("dLabel");

    const hBox = document.getElementById("hBox");
    const mBox = document.getElementById("mBox");
    const sBox = document.getElementById("sBox");

    const titleEl = document.getElementById("countdownTitle");
    const footnoteEl = document.getElementById("countdownFootnote");
    const weddingDateTextEl = document.getElementById("weddingDateText");

    const mini = document.getElementById("miniCountdown");
    const miniLabel = document.getElementById("miniLabel");
    const miniValue = document.getElementById("miniValue");

    weddingDateTextEl.textContent = target.toLocaleString("de-DE", {
      weekday:"long", year:"numeric", month:"long", day:"2-digit",
      hour:"2-digit", minute:"2-digit"
    });

    function pad(n){ return String(n).padStart(2,"0"); }

    function tick(){
      const now = new Date();
      const diff = target - now;

      if(diff > 0){
        const t = Math.floor(diff/1000);
        const days = Math.floor(t/86400);
        dEl.textContent = days;
        hEl.textContent = pad(Math.floor(t%86400/3600));
        mEl.textContent = pad(Math.floor(t%3600/60));
        sEl.textContent = pad(t%60);

        miniLabel.textContent = "Tage bis zur Hochzeit";
        miniValue.textContent = `T-${days}`;
      } else {
        const marriedDays = Math.floor((now-target)/86400000);
        titleEl.textContent = "Seit diesem Tag sind wir verheiratet";
        dLabel.textContent = "Tage verheiratet";
        dEl.textContent = marriedDays;

        hBox.style.display = mBox.style.display = sBox.style.display = "none";

        miniLabel.textContent = "Tage verheiratet";
        miniValue.textContent = `+${marriedDays}`;
      }
    }

    tick();
    setInterval(tick,1000);

    const bigCountdown = document.getElementById("countdown");
    const miniObs = new IntersectionObserver(
      e => mini.classList.toggle("show", !e[0].isIntersecting),
      {threshold:0.15}
    );
    miniObs.observe(bigCountdown);
  </script>
</body>
</html>
