<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Der Beginn unseres gemeinsamen Lebens</title>
  <link rel="stylesheet" href="wedding.css" />
</head>

<body>
  <div class="bg"></div>

  <!-- Sticky Mini-Countdown (erscheint erst, wenn der große Countdown weg ist) -->
  <a class="mini-countdown" id="miniCountdown" href="#countdown" aria-label="Zum Countdown springen">
    <span class="mini-label" id="miniLabel">Tage bis zur Hochzeit</span>
    <span class="mini-value" id="miniValue">--</span>
  </a>

  <main class="wrap" id="top">
    <!-- HERO -->
    <header class="hero fade-in">
      <div class="hero__text">
        <p class="kicker">Ein kleiner Ort nur für uns (und später für euch)</p>

        <h1>Der Beginn unseres gemeinsamen Lebens</h1>

        <p class="sub">
          Am <b>21. August 2026</b> sagen wir Ja –
          zuerst standesamtlich im <b>Weißen Haus</b> in <b>Markkleeberg</b>
          und anschließend feiern wir diesen Tag gemeinsam im
          <b>Gutshof Grasdorf</b> in Taucha.
        </p>

        <!-- COUNTDOWN (groß & zentral) -->
        <div class="countdown-card lift in" id="countdown">
          <div class="countdown-title" id="countdownTitle">Tage bis zu unserer Hochzeit</div>

          <div class="countdown-grid" aria-live="polite">
            <div class="cd">
              <div class="cd__num" id="d">--</div>
              <div class="cd__label" id="dLabel">Tage</div>
            </div>

            <div class="cd" id="hBox">
              <div class="cd__num" id="h">--</div>
              <div class="cd__label">Stunden</div>
            </div>

            <div class="cd" id="mBox">
              <div class="cd__num" id="m">--</div>
              <div class="cd__label">Minuten</div>
            </div>

            <div class="cd" id="sBox">
              <div class="cd__num" id="s">--</div>
              <div class="cd__label">Sekunden</div>
            </div>
          </div>

          <div class="countdown-footnote" id="countdownFootnote">
            Hochzeitstag: <span id="weddingDateText">—</span>
          </div>
        </div>
      </div>

      <figure class="hero__photo fade-in-delay">
        <img src="assets/us.jpg" alt="Wir zwei">
        <figcaption>Ein Anfang. Und ganz viel „für immer“.</figcaption>
      </figure>
    </header>

    <!-- ORTE -->
    <section class="section lift" id="orte">
      <h2>Orte</h2>
      <p class="muted">
        Hier findet ihr alle wichtigen Orte rund um unseren Hochzeitstag.
        Weitere Details ergänzen wir Schritt für Schritt.
      </p>

      <div class="cards cards--two">
        <div class="card lift">
          <h3>Standesamt</h3>
          <p><b>Weißes Haus</b><br>Markkleeberg</p>
          <ul class="list">
            <li>Trauung im kleinen, familiären Rahmen</li>
            <li>Uhrzeit & Treffpunkt folgen</li>
          </ul>
          <a class="link"
             href="https://www.google.com/maps/search/Weißes+Haus+Markkleeberg"
             target="_blank" rel="noopener">
            In Google Maps öffnen
          </a>
        </div>

        <div class="card lift">
          <h3>Feier</h3>
          <p><b>Gutshof Grasdorf</b><br>Taucha</p>
          <ul class="list">
            <li>Empfang, Dinner & Feier</li>
            <li>Infos zu Anfahrt & Parken folgen</li>
          </ul>
          <a class="link"
             href="https://www.google.com/maps/search/Gutshof+Grasdorf+Taucha"
             target="_blank" rel="noopener">
            In Google Maps öffnen
          </a>
        </div>
      </div>
    </section>

    <!-- EMPFEHLUNGEN -->
    <section class="section lift" id="empfehlungen">
      <h2>Empfehlungen</h2>
      <p class="muted">
        Für alle, die eine Übernachtung planen oder etwas weiter anreisen.
      </p>

      <div class="cards">
        <div class="card lift">
          <h3>Hotels</h3>
          <ul class="list">
            <li>Markkleeberg & Leipzig-Süd</li>
            <li>Taucha & Umgebung</li>
          </ul>
          <p class="muted">Konkrete Empfehlungen folgen.</p>
        </div>

        <div class="card lift">
          <h3>Anreise</h3>
          <ul class="list">
            <li>Leipzig ist gut per Bahn & Auto erreichbar</li>
            <li>Infos zu Shuttle / Fahrgemeinschaften folgen</li>
          </ul>
        </div>

        <div class="card lift">
          <h3>Hinweis</h3>
          <p class="muted">
            Diese Seite wird regelmäßig ergänzt –
            ein späterer Blick lohnt sich.
          </p>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer lift">
      <p class="muted">
        Diese Seite ist nur per Link oder QR-Code erreichbar.
        Bitte nicht öffentlich teilen.
      </p>
      <p class="muted" style="margin-top:10px;">
        <a class="link" href="#top">Nach oben</a>
      </p>
    </footer>
  </main>

  <!-- SETTINGS -->
  <script>
    // Hochzeitstag (lokale Zeit)
    const WEDDING_DATETIME_LOCAL = "2026-08-21T11:00:00";
  </script>

  <script>
    // ---------- Countdown / Day Counter ----------
    const target = new Date(WEDDING_DATETIME_LOCAL);

    const titleEl = document.getElementById("countdownTitle");
    const footnoteEl = document.getElementById("countdownFootnote");
    const weddingDateTextEl = document.getElementById("weddingDateText");

    const dEl = document.getElementById("d");
    const hEl = document.getElementById("h");
    const mEl = document.getElementById("m");
    const sEl = document.getElementById("s");

    const hBox = document.getElementById("hBox");
    const mBox = document.getElementById("mBox");
    const sBox = document.getElementById("sBox");
    const dLabel = document.getElementById("dLabel");

    // Mini countdown
    const mini = document.getElementById("miniCountdown");
    const miniLabel = document.getElementById("miniLabel");
    const miniValue = document.getElementById("miniValue");

    function pad(n){ return String(n).padStart(2,"0"); }

    weddingDateTextEl.textContent = target.toLocaleString("de-DE", {
      weekday:"long", year:"numeric", month:"long", day:"2-digit",
      hour:"2-digit", minute:"2-digit"
    });

    function tick(){
      const now = new Date();
      const diff = target - now;

      if(diff > 0){
        // Vor der Hochzeit
        titleEl.textContent = "Tage bis zu unserer Hochzeit";
        footnoteEl.style.display = "block";
        dLabel.textContent = "Tage";

        const totalSeconds = Math.floor(diff / 1000);
        const days = Math.floor(totalSeconds / 86400);
        const hours = Math.floor((totalSeconds % 86400) / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;

        dEl.textContent = String(days);
        hEl.textContent = pad(hours);
        mEl.textContent = pad(minutes);
        sEl.textContent = pad(seconds);

        hBox.style.display = mBox.style.display = sBox.style.display = "";

        // Mini
        miniLabel.textContent = "Tage bis zur Hochzeit";
        miniValue.textContent = `T-${days}`;
      } else {
        // Nach der Hochzeit
        titleEl.textContent = "Seit diesem Tag sind wir verheiratet";
        footnoteEl.style.display = "none";
        dLabel.textContent = "Tage verheiratet";

        const marriedDays = Math.floor((now - target) / 86400000);
        dEl.textContent = String(marriedDays);

        hBox.style.display = mBox.style.display = sBox.style.display = "none";

        // Mini
        miniLabel.textContent = "Tage verheiratet";
        miniValue.textContent = `+${marriedDays}`;
      }
    }

    tick();
    setInterval(tick, 1000);

    // Smooth reveal on scroll (Sektionen/Karten)
    const liftObs = new IntersectionObserver(
      entries => entries.forEach(e => e.isIntersecting && e.target.classList.add("in")),
      { threshold: 0.12 }
    );
    document.querySelectorAll(".lift").forEach(el => liftObs.observe(el));

    // Mini-Countdown NUR anzeigen, wenn großer Countdown nicht sichtbar ist
    const bigCountdown = document.getElementById("countdown");
    const miniObs = new IntersectionObserver(
      entries => {
        const isVisible = entries[0].isIntersecting;
        mini.classList.toggle("show", !isVisible);
      },
      { threshold: 0.15 }
    );
    miniObs.observe(bigCountdown);
  </script>
</body>
</html>
